{% load static %}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8">
    <title>تقدیرنامه استاد</title>
    <style>
      @font-face {
        font-family: 'B Nazanin';
        src: url("{% static 'fonts/B_NAZANIN/B-NAZANIN.TTF' %}") format('truetype');
        font-weight: normal;
        font-style: normal;
        font-display: block;
      }
      * {
        box-sizing: border-box;
        font-family: 'B Nazanin', Tahoma, Arial, sans-serif;
      }
      body {
        margin: 0;
        padding: 32px;
        background: #f8fafc;
        -webkit-print-color-adjust: exact;
        print-color-adjust: exact;
      }
      .page {
        max-width: 1200px;
        width: 100%;
        margin: 0 auto;
        background: #fff;
        padding: 0;
        min-height: 700px;
        position: relative;
        overflow: hidden;
      }
      .page-inner {
        position: relative;
        z-index: 1;
        padding: 48px 56px 56px;
        display: flex;
        flex-direction: column;
        min-height: 100%;
      }
      .watermark {
        position: absolute;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
        z-index: 0;
      }
      .watermark img {
        width: 420px;
        height: 420px;
        object-fit: contain;
        opacity: 0.06;
        transform: rotate(-10deg);
      }
      .islamic-frame {
        position: absolute;
        inset: 0;
        pointer-events: none;
        z-index: 2;
      }
      .islamic-frame .edge {
        position: absolute;
        background-size: 100% 100%, 16px 16px;
        background-repeat: no-repeat, repeat;
        background-blend-mode: multiply;
        opacity: 0.9;
        filter: drop-shadow(0 0 6px rgba(15, 23, 42, 0.15));
      }
      .islamic-frame .edge-top,
      .islamic-frame .edge-bottom {
        height: 14px;
        left: 0;
        right: 0;
        background-position: center, center;
        background-image:
          linear-gradient(90deg, rgba(15,23,42,0.15), rgba(245,158,11,0.45), rgba(16,185,129,0.35), rgba(15,23,42,0.15)),
          url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'><path d='M8 1 L10 6 L15 8 L10 10 L8 15 L6 10 L1 8 L6 6 Z' fill='none' stroke='%23d97706' stroke-width='1.2'/></svg>");
      }
      .islamic-frame .edge-top { top: 0; }
      .islamic-frame .edge-bottom { bottom: 0; }
      .islamic-frame .edge-left,
      .islamic-frame .edge-right {
        width: 14px;
        top: 0;
        bottom: 0;
        background-position: center, center;
        background-image:
          linear-gradient(180deg, rgba(15,23,42,0.15), rgba(245,158,11,0.45), rgba(16,185,129,0.35), rgba(15,23,42,0.15)),
          url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'><path d='M8 1 L10 6 L15 8 L10 10 L8 15 L6 10 L1 8 L6 6 Z' fill='none' stroke='%2310b981' stroke-width='1.2'/></svg>");
      }
      .islamic-frame .edge-left { left: 0; }
      .islamic-frame .edge-right { right: 0; }
      .corner {
        position: absolute;
        width: 140px;
        height: 140px;
        color: #0f172a;
        opacity: 0.85;
        filter: drop-shadow(0 0 10px rgba(15, 23, 42, 0.18));
      }
      .corner svg {
        width: 100%;
        height: 100%;
      }
      .corner-tl { top: 8px; left: 8px; }
      .corner-tr { top: 8px; right: 8px; transform: rotate(90deg); }
      .corner-bl { bottom: 8px; left: 8px; transform: rotate(-90deg); }
      .corner-br { bottom: 8px; right: 8px; transform: rotate(180deg); }
      .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
        margin-bottom: 16px;
      }
      .logo {
        width: 90px;
        height: 90px;
        border-radius: 50%;
        border: 3px solid #0f172a;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        background: #fff;
      }
      .logo img {
        width: 80px;
        height: 80px;
        object-fit: contain;
      }
      .org {
        text-align: center;
        flex: 1;
      }
      .org h1 {
        margin: 0;
        font-size: 26px;
        color: #0f172a;
        font-weight: 700;
      }
      .org p {
        margin: 6px 0 0;
        color: #475569;
        font-size: 16px;
      }
      .title {
        text-align: center;
        font-size: 38px;
        font-weight: 700;
        margin: 24px 0 32px;
        color: #0f172a;
        letter-spacing: 2px;
      }
      .title-divider {
        width: 220px;
        height: 4px;
        margin: 12px auto 0;
        background: linear-gradient(90deg, rgba(15,23,42,0.1), rgba(15,23,42,0.7), rgba(15,23,42,0.1));
        border-radius: 999px;
      }
      .content {
        font-size: 22px;
        line-height: 2.1;
        color: #1f2937;
        text-align: justify;
        flex: 1;
      }
      .content p {
        margin: 0 0 14px;
      }
      .name {
        font-weight: 700;
        color: #0f172a;
      }
      .footer {
        margin-top: auto;
        padding-top: 24px;
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        gap: 24px;
        font-size: 18px;
        color: #374151;
        page-break-inside: avoid;
        break-inside: avoid;
      }
      .signature {
        flex: 1;
        text-align: center;
      }
      .signature-line {
        border-bottom: 2px solid #0f172a;
        margin: 0 auto 8px;
        width: 240px;
        height: 24px;
      }
      .signature-title {
        font-size: 16px;
        color: #0f172a;
        font-weight: 600;
      }
      @page {
        size: A4 landscape;
        margin: 0;
      }
      @media print {
        html, body {
          width: 297mm;
          height: 210mm;
          margin: 0;
          padding: 0;
        }
        body {
          background: #fff;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        .page {
          width: 100%;
          height: 100%;
          margin: 0;
          padding: 12mm 0 14mm;
          box-sizing: border-box;
        }
        .page-inner {
          padding: 0 16mm 6mm;
          height: 100%;
          box-sizing: border-box;
        }
        .title { margin: 14px 0 18px; font-size: 33px; }
        .content { font-size: 19px; line-height: 1.8; }
        .footer { margin-top: auto; padding-top: 8mm; font-size: 16px; }
        .signature-line { width: 190px; }
        .watermark img { width: 360px; height: 360px; opacity: 0.05; }
      }
    </style>
  </head>
  <body>
    <div class="page">
      <div class="watermark">
        <img src="{% url 'core:logo' %}" alt="لوگو" onerror="this.style.display='none';">
      </div>
      <div class="islamic-frame">
        <div class="edge edge-top"></div>
        <div class="edge edge-bottom"></div>
        <div class="edge edge-left"></div>
        <div class="edge edge-right"></div>
        <div class="corner corner-tl">
          <svg viewBox="0 0 120 120" fill="none" stroke-width="2.5">
            <defs>
              <linearGradient id="cornerGrad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#f59e0b"/>
                <stop offset="50%" stop-color="#10b981"/>
                <stop offset="100%" stop-color="#0f172a"/>
              </linearGradient>
            </defs>
            <path d="M10 110 A100 100 0 0 1 110 10" stroke="url(#cornerGrad)" stroke-linecap="round"/>
            <path d="M20 100 A80 80 0 0 1 100 20" stroke="url(#cornerGrad)" stroke-linecap="round"/>
            <path d="M58 18 L70 44 L98 56 L70 68 L58 94 L46 68 L18 56 L46 44 Z" fill="url(#cornerGrad)" opacity="0.25" stroke="url(#cornerGrad)"/>
          </svg>
        </div>
        <div class="corner corner-tr">
          <svg viewBox="0 0 120 120" fill="none" stroke-width="2.5">
            <defs>
              <linearGradient id="cornerGrad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#f59e0b"/>
                <stop offset="50%" stop-color="#10b981"/>
                <stop offset="100%" stop-color="#0f172a"/>
              </linearGradient>
            </defs>
            <path d="M10 110 A100 100 0 0 1 110 10" stroke="url(#cornerGrad)" stroke-linecap="round"/>
            <path d="M20 100 A80 80 0 0 1 100 20" stroke="url(#cornerGrad)" stroke-linecap="round"/>
            <path d="M58 18 L70 44 L98 56 L70 68 L58 94 L46 68 L18 56 L46 44 Z" fill="url(#cornerGrad)" opacity="0.25" stroke="url(#cornerGrad)"/>
          </svg>
        </div>
        <div class="corner corner-bl">
          <svg viewBox="0 0 120 120" fill="none" stroke-width="2.5">
            <defs>
              <linearGradient id="cornerGrad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#f59e0b"/>
                <stop offset="50%" stop-color="#10b981"/>
                <stop offset="100%" stop-color="#0f172a"/>
              </linearGradient>
            </defs>
            <path d="M10 110 A100 100 0 0 1 110 10" stroke="url(#cornerGrad)" stroke-linecap="round"/>
            <path d="M20 100 A80 80 0 0 1 100 20" stroke="url(#cornerGrad)" stroke-linecap="round"/>
            <path d="M58 18 L70 44 L98 56 L70 68 L58 94 L46 68 L18 56 L46 44 Z" fill="url(#cornerGrad)" opacity="0.25" stroke="url(#cornerGrad)"/>
          </svg>
        </div>
        <div class="corner corner-br">
          <svg viewBox="0 0 120 120" fill="none" stroke-width="2.5">
            <defs>
              <linearGradient id="cornerGrad" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0%" stop-color="#f59e0b"/>
                <stop offset="50%" stop-color="#10b981"/>
                <stop offset="100%" stop-color="#0f172a"/>
              </linearGradient>
            </defs>
            <path d="M10 110 A100 100 0 0 1 110 10" stroke="url(#cornerGrad)" stroke-linecap="round"/>
            <path d="M20 100 A80 80 0 0 1 100 20" stroke="url(#cornerGrad)" stroke-linecap="round"/>
            <path d="M58 18 L70 44 L98 56 L70 68 L58 94 L46 68 L18 56 L46 44 Z" fill="url(#cornerGrad)" opacity="0.25" stroke="url(#cornerGrad)"/>
          </svg>
        </div>
      </div>
      <div class="page-inner">
        <div class="header">
          <div class="logo">
            <img src="{% url 'core:logo' %}" alt="لوگو" onerror="this.style.display='none';">
          </div>
          <div class="org">
            <h1>دارالعلوم عالی الحاج سید منصور نادری</h1>
            <p>تقدیر از اساتید برتر</p>
          </div>
          <div style="width:90px;"></div>
        </div>
        <div class="title">
          تقدیرنامه
          <div class="title-divider"></div>
        </div>
        <div class="content">
          <p>
            بدینوسیله گواهی می‌گردد که استاد گرامی
            <span class="name">{{ teacher.name }}</span>
            با تلاش پیگیر و روحیه‌ی آموزشی ممتاز، نقشی برجسته در پیشرفت شاگردان داشته‌اند.
          </p>
          <p>
            ایشان با تعهد، دقت و اخلاق نیکو در تدریس، همواره باعث ارتقای کیفیت آموزشی گردیده‌اند.
          </p>
          <p>
            بنا برین این تقدیرنامه به پاس خدمات ارزنده و کارکرد نیکشان به ایشان اهدا می‌گردد.
          </p>
        </div>
        <div class="footer">
          <div>تاریخ: {{ jalali_date }}</div>
          <div class="signature">
            <div class="signature-line"></div>
            <div class="signature-title">امضای آمر دارالعلوم</div>
          </div>
          <div class="signature">
            <div class="signature-line"></div>
            <div class="signature-title">امضای مدیر دارالعلوم</div>
          </div>
        </div>
      </div>
    </div>
    <script>
      window.addEventListener('load', function() {
        window.print();
      });
    </script>
  </body>
</html>
